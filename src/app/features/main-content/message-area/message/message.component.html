<div class="message" [class.user-message]="message.mSenderId === activeUserId">
  <img src="/assets/img/{{ senderData?.uUserImage }}" alt="" />
  <div>
    <div>
      <h3>{{ senderData?.uName }}</h3>
      <h5>{{ getTimeInHours(message.mTime) }} Uhr</h5>
    </div>

    <div class="message-text">{{ message.mText }}</div>

    <div>
      @if (groupedReactions && groupedReactions.length > 0) {
        <span class="reaction-field">
          @for (reaction of groupedReactions.slice(0,shownReactionNumber); track reaction) {
            <div>{{ reaction.reaction }} {{ reaction.count }}</div>
          }
          @if (groupedReactions.length > shownReactionNumber) {
            <div (click)="setShownReactionNumber()">+{{groupedReactions.length - shownReactionNumber}} weitere</div>           
          }
          <!-- Hier muss spÃ¤ter die 2 durch eine 7 ersetzt werden -->
          @if (groupedReactions.length === shownReactionNumber && shownReactionNumber > 2) {
            <div (click)="setShownReactionNumber()">Weniger anzeigen</div>           
          }
          <span class="material-symbols">add_reaction</span>
        </span>
      } 

      @if (message.mThreadId && chatType !== 'thread') {
        <h4>2 Antworten</h4>
        <h5>Letzte Antwort 14:56 Uhr</h5>
      }
    </div>
  </div>
</div>
